# 内容管理规范

## 总览
- 站点采用 Astro + Tailwind 构建，内容以 Markdown 为主。
- 所有内容更新通过编辑 `src/content` 与 `src/pages` 完成。
- 新闻单一文件维护，论文采用内容集合，专利与软著使用 Markdown 表格。

## 新闻动态

### 文件位置
- `src/data/news.md` - 所有新闻数据存储在此文件中

### 基础格式（保持兼容）
```markdown
## YYYY-MM-DD 新闻标题
```

### 增强格式（推荐使用）
```markdown
## YYYY-MM-DD 新闻标题
- **链接**: https://example.com/news-details
- **图片**: /assets/news/YYYY-MM-DD-filename.jpg
- **描述**: 新闻的简短描述，1-2句话说明主要内容
```

### 字段说明
- **日期**: `YYYY-MM-DD` 格式，必填
- **标题**: 新闻标题，必填
- **链接**: 可选，外部跳转链接（支持http/https）
- **图片**: 可选，新闻配图路径（建议尺寸：1200×630像素）
- **描述**: 可选，简短描述（1-2句话）

### 图片规范
- **存储位置**: `public/assets/news/`
- **命名规范**: `YYYY-MM-DD-描述.jpg`（如：`2024-03-15-funding.jpg`）
- **尺寸建议**: 1200×630像素（适合社交媒体分享）
- **格式**: JPG/PNG/WebP
- **压缩**: 建议压缩优化，减少文件大小

### 示例
```markdown
## 2024-03-15 课题组获得国家自然科学基金重点项目资助
- **链接**: https://example.com/project-details
- **图片**: /assets/news/2024-03-15-funding.jpg
- **描述**: 课题组成功获得国家自然科学基金重点项目资助，资助金额XXX万元，研究周期3年。

## 2024-02-28 团队在CVPR 2024发表论文
- **链接**: https://openaccess.thecvf.com/CVPR2024
- **描述**: 团队在计算机视觉顶级会议CVPR 2024发表创新性论文。

## 2024-01-10 与XX大学合作项目正式启动
# 只有标题，保持简洁
```

### 数据管理
- **加载函数**: `loadNews()` - 加载所有新闻数据
- **年份筛选**: `filterNewsByYear()` - 按年份筛选新闻
- **最新新闻**: `getLatestNews()` - 获取最新N条新闻
- **年份分组**: `groupNewsByYear()` - 按年份分组（用于时间轴）
- **年份列表**: `getNewsYears()` - 获取所有新闻年份

### 页面展示
- **时间轴导航**: 左侧显示年份时间轴
- **新闻卡片**: 右侧显示带图片、链接、描述的新闻卡片
- **响应式设计**: 适配移动端和桌面端
- **排序规则**: 按日期降序排序（从新到旧）

## 期刊论文
- 目录：`src/content/papers/`
- 每篇论文一个 Markdown 文件，使用 Frontmatter 结构化字段：
  - `title`: 论文标题（字符串）
  - `journal`: 期刊名称（字符串）
  - `date`: 发表日期 `YYYY-MM-DD`（字符串）
  - `authors`: 作者数组，按顺序列出所有作者（字符串数组）
  - `link`: 论文链接（可选，字符串）
  - `abstract`: 论文摘要（可选，字符串）
  - `partition`: 期刊分区（可选，枚举值：`中科院一区`、`中科院二区`、`中科院三区`、`中科院四区`）
  - `equalFirst`: 共同一作作者索引（可选，数字数组，索引从0开始）
  - `corresponding`: 通讯作者索引（可选，数字数组，索引从0开始）
  - `otherContributions`: 其他作者贡献标记（可选，对象数组）
    - `authorIndex`: 作者索引（数字）
    - `symbol`: 贡献标记符号（字符串）
    - `description`: 贡献描述（字符串）
- **重要说明**：
  - 所有索引（`equalFirst`、`corresponding`、`otherContributions.authorIndex`）必须对应 `authors` 数组的有效索引（0到作者数量-1）
  - 系统会自动验证索引的有效性
- 示例：
```
---
title: "A Semi-automatic method based on level set for areas feature extraction from aerial and satellite images"
journal: "GEOINFORMATICS 2006: REMOTELY SENSED DATA AND INFORMATION"
date: "2006-10-28"
authors: ["Zhang", "Yu", "Zhang", "Xiaodong"]
link: "https://doi.org/10.1117/12.713158"
abstract: "A Semi-automatic method based on level set for areas feature extraction from aerial and satellite images"
partition: "中科院一区"
equalFirst: [0, 1]  # 前两位作者为共同一作
corresponding: [1]   # 第二位作者为通讯作者
otherContributions:
  - authorIndex: 2
    symbol: "†"
    description: "同等贡献"
  - authorIndex: 3  
    symbol: "‡"
    description: "数据分析"
---
```

## 专利与软著
- 文件位置：`src/data/patents.json`
- 数据结构：
```json
{
  "type": "发明专利",
  "title": "专利名称",
  "patentNumber": "专利号",
  "grantDate": "YYYY-MM-DD",
  "status": "已授权",
  "inventors": ["武汉大学"],
  "abstract": "专利摘要"
}
```
- **字段说明**：
  - `type`: 专利类型（必填，字符串）
    - 有效值：`发明专利`、`实用新型专利`、`软件著作权`
  - `title`: 专利名称（必填，字符串）
  - `patentNumber`: 专利号（必填，字符串）
  - `grantDate`: 授权日期（必填，字符串，格式：`YYYY-MM-DD`）
  - `status`: 专利状态（可选，字符串）
    - 有效值：`已授权`、`已登记`、`申请中`、`审查中`
  - `inventors`: 发明人列表（可选，字符串数组）
  - `abstract`: 专利摘要（可选，字符串）
- **数据验证**：
  - 使用 `src/lib/data/patents.ts` 中的 `validatePatent()` 函数验证数据格式
  - 日期格式必须为 `YYYY-MM-DD`
  - 类型和状态必须为有效值
- **数据管理**：
  - 使用 `loadPatents()` 函数加载所有专利数据
  - 支持按类型、状态、年份筛选和排序
  - 提供 `filterPatentsByType()`、`filterPatentsByStatus()`、`filterPatentsByYear()`、`sortPatents()` 等工具函数
- **组件使用**：
  - 通用表格：`<PatentTable patents={patentsData} />`
  - 发明专利专用：`<InventionTable patents={inventionPatents} />`
  - 软件著作权专用：`<SoftwareTable patents={softwarePatents} />`

## 团队成员
- 集合目录：`src/content/members/`
- 字段：
  - `name`: 姓名（必填，字符串）
  - `role`: 角色或职称（必填，字符串）
  - `group`: 组别（可选，枚举值）
    - 有效值：`Professor`、`Researcher`、`PhD`、`Master`、`Undergrad`、`Advisor`
  - `photo`: 照片路径或 URL（可选，字符串）
  - `bio`: 简介（可选，字符串）
  - `externalLink`: 外部链接（可选，字符串）
  - `research`: 研究方向（可选，字符串）- 在卡片中显示为简短描述
- **照片规范**：
  - 统一 600×800 像素（3:4 比例）
  - 浅色背景，统一光照
  - 文件命名建议：`姓名-600x800.jpg`
  - 照片文件存放在 `public/images/members/` 目录
- **数据验证**：
  - 使用 `src/content/config.ts` 中的 schema 验证数据格式
  - `group` 字段必须为有效枚举值
- **示例**：
```
---
name: 崔卫红 副教授
role: 武汉大学遥感信息工程学院
group: Advisor
photo: "assets/avatars/cuiweihong.jpg"
bio: 遥感影像信息提取
externalLink: "https://rsiecd.github.io/"
research: "遥感影像信息提取与智能解译"
---
```

## 科研项目
- 文件位置：`src/data/projects.json`
- 数据结构：
```json
{
  "title": "项目名称",
  "leader": "负责人",
  "period": "2023-2025",
  "status": "在研",
  "description": "项目描述",
  "type": "国家自然科学基金",
  "level": "国家级",
  "completedDate": "2025-12-31"
}
```
- 状态支持：`在研`、`已结题`
- 级别支持：`国家级`、`省部级`、`社会服务`

## 奖项荣誉
- 文件位置：`src/data/awards.json`
- 数据结构：
```json
{
  "title": "奖项名称",
  "date": "YYYY-MM-DD",
  "level": "国家级",
  "recipients": ["获奖人1", "获奖人2"]
}
```

## 其他板块
- 采用 Markdown + 静态 HTML 混合方案
- 建议在 `src/pages` 下创建对应页面，并在 `src/content` 存放数据

## 英文版预留
- 建议目录结构：
  - `src/pages/en/`
  - `src/content/en/`
- 与中文站点字段一致
