# 部署与维护指南

## 代码仓库
- 建议使用 GitHub 组织账号管理代码库
- 主分支 `main` 直接更新

## 依赖安装
- Node.js 20
- 安装依赖：
```
npm install
```

## 本地开发
- 开发服务器：
```
npm run dev
```
- 预览构建产物：
```
npm run preview
```

## 构建与检查
- 构建：
```
npm run build
```
- HTML 校验：
```
npm run check:html
```
- 链接检查：
```
npm run check:links
```
- 组合检查：
```
npm run check
```

## GitHub Pages 自动部署
- 工作流文件：`.github/workflows/deploy.yml`
- 触发条件：推送到 `main`
- 流程：
  - 安装依赖
  - 构建 `dist`
  - 上传 Pages 资源
  - 部署到 GitHub Pages
  - 执行构建检查

## 自定义域名
- 在仓库的 Pages 设置中绑定 com 域名
- 添加 `public/CNAME` 文件，内容为域名
- DNS 配置 A/AAAA 到 GitHub Pages IP 或使用 CNAME 到 `username.github.io`

## 内容更新
- 新闻：编辑 `src/data/news.md`
- 论文：在 `src/content/papers/` 中新增文件
- 成员：在 `src/content/members/` 中新增文件
- 专利与软著：更新 `src/data/patents.json`
- 项目：更新 `src/data/projects.json`
- 奖项：更新 `src/data/awards.json`

## 开发指南

### 代码质量
- 使用 TypeScript 严格模式
- 运行类型检查：`npx tsc --noEmit`
- 遵循项目代码规范

### 组件开发
- 组件位置：`src/components/`
- 使用 TypeScript 类型定义
- 基础组件放在 `src/components/base/` 目录
- 业务组件放在 `src/components/features/` 目录

### 数据管理
- 类型定义：`src/lib/types/`
- 数据工具：`src/lib/data/`
- 工具函数：`src/lib/utils/`
- 所有 JSON 数据必须通过验证函数加载

### 类型安全
- 所有组件 props 必须有 TypeScript 接口
- 使用严格类型检查
- 避免使用 `any` 类型

## 维护建议
- 每次更新后运行 `npm run check`
- 定期检查外链有效性
- 照片统一尺寸与风格
- 定期运行类型检查确保代码质量
