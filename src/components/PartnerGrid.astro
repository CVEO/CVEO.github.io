---
interface Partner {
  name: string
  logo?: string
  website?: string
  description?: string
}

const { partners } = Astro.props as {
  partners: Partner[]
}
---
<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3">
  {partners.map(partner => (
    <div class="group relative">
      <a 
        href={partner.website || '#'}
        target={partner.website ? '_blank' : '_self'}
        rel="noopener noreferrer"
        class="block p-3 rounded-lg border border-slate-200 bg-white hover:shadow-md hover:border-brand-200 transition-all duration-300 h-full"
        title={partner.description ? `${partner.name} - ${partner.description}` : partner.name}
      >
        <div class="flex flex-col items-center h-full">
          <div class="w-full h-20 mb-2 flex items-center justify-center p-2 flex-shrink-0">
            {partner.logo ? (
              <img 
                src={partner.logo}
                alt={`${partner.name} logo`}
                class="max-h-full max-w-full object-contain"
                loading="lazy"
              />
            ) : (
              <div class="w-12 h-12 rounded-full bg-brand-50 flex items-center justify-center text-brand-900 group-hover:bg-brand-100 transition-colors duration-300">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                </svg>
              </div>
            )}
          </div>
          
          <div class="flex-1 min-h-[2.5rem] flex items-center justify-center w-full">
            <h3 class="text-sm font-medium text-slate-900 text-center line-clamp-2 group-hover:text-brand-900 transition-colors duration-300 leading-tight">
              {partner.name}
            </h3>
          </div>
        </div>
      </a>
      
      <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block z-10">
        <div class="bg-white p-3 rounded-lg shadow-lg border border-slate-200 min-w-[200px] max-w-[300px]">
          <p class="text-sm font-medium text-slate-900 mb-1">{partner.name}</p>
          {partner.description && (
            <p class="text-xs text-slate-600">{partner.description}</p>
          )}
          {partner.website && (
            <div class="mt-2 pt-2 border-t border-slate-100">
              <p class="text-xs text-brand-900 font-medium">点击访问官网</p>
            </div>
          )}
        </div>
      </div>
    </div>
  ))}
</div>